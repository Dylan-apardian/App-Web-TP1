/*!
 * Module requirements.
 */

<<<<<<< HEAD
'use strict';

const CastError = require('../../error/cast');
=======
var CastError = require('../../error/cast');
>>>>>>> 67dff727551b6248efacc127c2432d1747d92b89

/*!
 * ignore
 */

function handleBitwiseOperator(val) {
<<<<<<< HEAD
  const _this = this;
=======
  var _this = this;
>>>>>>> 67dff727551b6248efacc127c2432d1747d92b89
  if (Array.isArray(val)) {
    return val.map(function(v) {
      return _castNumber(_this.path, v);
    });
  } else if (Buffer.isBuffer(val)) {
    return val;
  }
  // Assume trying to cast to number
  return _castNumber(_this.path, val);
}

/*!
 * ignore
 */

function _castNumber(path, num) {
<<<<<<< HEAD
  const v = Number(num);
=======
  var v = Number(num);
>>>>>>> 67dff727551b6248efacc127c2432d1747d92b89
  if (isNaN(v)) {
    throw new CastError('number', num, path);
  }
  return v;
}

module.exports = handleBitwiseOperator;
